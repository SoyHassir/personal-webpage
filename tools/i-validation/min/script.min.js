function initPageAnimations(){var e=document.querySelectorAll(".fade-in");if(0<e.length){let t=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1});e.forEach(e=>{t.observe(e)})}}function initInfografiaInteractions(){let o=document.getElementById("infoModal"),i=document.getElementById("modalTitle"),l=document.getElementById("modalBody"),a=null;var e;window.openModalWithContent=function(e,t,n){o&&i&&l&&(a=n||document.activeElement,i.textContent=e,l.innerHTML=t,o.style.display="flex",setTimeout(()=>{o.classList.add("active");var e=o.querySelector(".modal-close-button");(e||o).focus()},10),document.querySelectorAll(".interactive-item.active").forEach(e=>{e.classList.remove("active")}),n)&&(n.classList.add("active"),e=n.querySelector(".click-indicator"))&&(e.style.display="none")},window.closeModal=function(){o&&(o.classList.remove("active"),setTimeout(()=>{o.style.display="none",document.querySelectorAll(".interactive-item.active").forEach(e=>{var t=e.querySelector(".click-indicator");t&&(t.style.display=""),e.classList.remove("active")}),a&&a.focus()},300))},o&&(o.addEventListener("click",function(e){e.target===o&&closeModal()}),(e=o.querySelector(".modal-close-button"))&&e.addEventListener("click",function(e){e.preventDefault(),closeModal()}),document.addEventListener("keydown",function(e){"Escape"===e.key&&o.classList.contains("active")&&closeModal()})),document.querySelectorAll(".interactive-item").forEach(o=>{var e=o.getAttribute("onclick");if(e){var i=e.match(/toggleDetails\('([^']+)'\)/);e.match(/openModalWithContent\([^,]+,\s*'([^']+)'/);if(i&&i[1]){e=i[1],i=document.getElementById(e);if(i){var e=o.querySelector(".tech-title, .interactive-title");let t="Details",n=(e&&((l=(e=e.cloneNode(!0)).querySelector(".click-indicator"))&&l.remove(),t=e.textContent.trim()),i.innerHTML);i.style.display="none !important",o.removeAttribute("onclick"),o.addEventListener("click",function(e){e.preventDefault(),openModalWithContent(t,n,o)}),o.setAttribute("role","button"),o.setAttribute("aria-haspopup","dialog")}}}else{var l=o.querySelector(".details-panel");if(l&&l.id){e=o.querySelector(".tech-title, .interactive-title");let t="Details",n=(e&&((e=(i=e.cloneNode(!0)).querySelector(".click-indicator"))&&e.remove(),t=i.textContent.trim()),l.innerHTML);l.style.display="none !important",o.addEventListener("click",function(e){e.preventDefault(),openModalWithContent(t,n,o)}),o.setAttribute("role","button"),o.setAttribute("aria-haspopup","dialog")}}})}function initInteractiveButton(){var e=document.getElementById("show-interactive-btn");e?(e.addEventListener("click",showInteractiveElements),console.log("Interactive button initialized")):console.log("Interactive button not found")}function showInteractiveElements(){console.log("showInteractiveElements called!");let e=document.body;e.classList.add("show-all-interactive"),console.log("Added show-all-interactive class"),setTimeout(()=>{e.classList.remove("show-all-interactive"),console.log("Removed show-all-interactive class")},3e3)}function initThemeToggle(){let e=document.getElementById("dark-mode-toggle");e?("dark"===localStorage.getItem("theme")&&(document.body.classList.add("dark-mode"),e.innerHTML='<i class="fa-solid fa-sun"></i>'),e.addEventListener("click",()=>{document.body.classList.toggle("dark-mode"),document.body.classList.contains("dark-mode")?(localStorage.setItem("theme","dark"),e.innerHTML='<i class="fa-solid fa-sun"></i>'):(localStorage.setItem("theme","light"),e.innerHTML='<i class="fa-solid fa-moon"></i>'),e.blur()}),console.log("Theme toggle initialized")):console.log("Theme toggle button not found")}document.addEventListener("DOMContentLoaded",()=>{initPageAnimations(),initInfografiaInteractions(),initInteractiveButton(),initThemeToggle()});